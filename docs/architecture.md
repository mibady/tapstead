# System Architecture

## Frontend Architecture
### Next.js Framework
#### Server Components
- Default for layouts and pages
- Server-side data fetching and rendering
- Reduced client-side JavaScript
- Improved First Contentful Paint

#### Client Components
- Interactive UI elements
- Client-side state management
- Browser APIs and lifecycle hooks
- Event handling

#### Advanced Routing
- Nested layouts
- Dynamic routes
- Parallel routes
- Intercepting routes

#### Performance Features
- Automatic image optimization
- Font optimization
- Script optimization
- Dynamic HTML streaming

### React Components
- Component-based UI architecture
- State management with hooks
- Server-side rendering
- Interactive UI elements

### Performance Optimization
- Automatic image optimization
- Font optimization
- Script optimization
- Dynamic HTML streaming

## Backend Architecture
### API Layer
- RESTful route handlers
- Middleware for auth/i18n
- Server-side validation
- Error handling

### Database Layer
#### Supabase Integration
- PostgreSQL database
- Real-time functionality
- Database backups
- Row-level security

### Authentication
- Email/password auth
- OAuth providers
- Session management
- Security policies

### External Services
- Stripe payment processing
- Retell AI phone system
- Cal.com scheduling
- Cloud storage

## Infrastructure
### Vercel Deployment
- Zero-config deployment
- Preview environments
- Production environments
- Automatic rollbacks

### Build Process
- Dependency installation
- Code compilation
- Asset optimization
- Environment configuration

### CI/CD Pipeline
- Automated testing
- Preview deployments
- Production deployments
- Monitoring and alerts

### Scaling Strategy
- Global CDN
- Edge functions
- Cache optimization
- Load balancing

## Data Flow
### Client-Server Communication
- Server components
- Client components
- API requests
- WebSocket connections

### State Management
- Server state
- Client state
- Shared state
- Cache management

### Error Handling
- Client-side errors
- Server-side errors
- API errors
- Service errors